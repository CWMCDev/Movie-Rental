<div class="container">
	<div class="alert alert-danger" role="alert" ng-hide="storage.user">
		<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
		<span class="sr-only">Error:</span>
		Please <a class="text-danger" data-toggle="modal" data-target="#loginModal" style="text-decoration:underline;">login</a>!
	</div>

	<div class="alert alert-info" role="alert" ng-hide="storage.messages.profile.welcome">
		<button type="button" class="close" data-dismiss="alert" ng-click="storage.messages.profile.welcome = true"><span>&times;</span></button>
		Welcome {{storage.user.firstName}} {{storage.user.lastName}}
	</div>
	<div class="row">
		<div class="col-md-4 col-sm-6">
			<div class="col-xs-12" ng-show="storage.user">
				<h2 class="text-primary">Contact</h2>
				<table class="table table-striped">
					<tr>
						<th>Name:</th>
						<td>{{storage.user.firstName}} {{storage.user.lastName}}</td>
					</tr>
					<tr>
						<th>Email:</th>
						<td>{{storage.user.email}}</td>
					</tr>

				</table>
			</div>
			<div class="col-xs-12" ng-show="storage.user">
				<h2 class="text-primary">Adress</h2>
				<table class="table table-striped">
					<tr>
						<th>Straat:</th>
						<td>{{storage.user.adress.adress}}</td>
					</tr>
					<tr>
						<th>Postcode:</th>
						<td>{{storage.user.adress.postalCodeNumbers}} {{storage.user.adress.postalCodeLetters}}</td>
					</tr>
					<tr>
						<th>City:</th>
						<td>{{storage.user.adress.city}}</td>
					</tr>
					<tr>
						<th>Country:</th>
						<td>{{storage.user.adress.country}}</td>
					</tr>
				</table>
			</div>
		</div>
		<div class="col-md-8 col-sm-6">
			<div class="alert alert-danger" role="alert" ng-show="rentalError">
				<button type="button" class="close" data-dismiss="alert"><span>&times;</span></button>
				<strong>Error</strong> {{rentalError}}
			</div>

			<!-- Overdue -->
			<div class="panel panel-danger" ng-show="filteredRentals.length > 0">
				<!-- Default panel contents -->
				<div class="panel-heading">Overdue!</div>
				<div class="panel-body">
					<p>What movies have your rented in the past?</p>
				</div>

				<!-- Table -->
				<table class="table">
					<tr ng-repeat="rental in filteredRentals = (rentals | filter:{isOverdue:true})">
						<td>{{rental.movie.title}}</td>
						<td>{{rental.invoice.payed}}</td>
						<td>{{rental.invoice.dueDate < currentDate}}</td>
						<td>{{isOverdue(rental.invoice.dueDate, rental.invoice.payed)}}</td>
					</tr>
				</table>
			</div>

			<!-- Payed -->
			<div class="panel panel-primary" ng-show="filteredRentals.length > 0">
				<!-- Default panel contents -->
				<div class="panel-heading">Rentals</div>

				<!-- Table -->
				<table class="table">
					<thead>
						<tr>
							<th>Title</th>
							<th>Rented</th>
							<th>Payed</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="rental in filteredRentals = (rentals | filter:{isOverdue:false})">
							<td>{{rental.movie.title}}</td>
							<td>{{rental.loanDate | date:'dd MMM yy'}}</td>
							<td ng-show="!rental.invoice.payed"><span class="glyphicon glyphicon-remove text-danger"></span></td>
							<td ng-show="rental.invoice.payed"><span class="glyphicon glyphicon-ok text-success"></span></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>